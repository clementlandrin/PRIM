#version 450

layout(location=0) out vec4 output_color;

struct LightSource
{
	vec4 position;
	vec3 color;
	float intensity;
};

in vec4 fPosition;
in vec4 fNormal;

in LightSource fLightSource;

float computeDiffuseFromLight(vec3 lightPosition)
{
  vec3 wi = -normalize(fPosition.xyz - lightPosition);
  return dot(fNormal.xyz, wi);
}

void main() {

  output_color = vec4(vec3(computeDiffuseFromLight(fLightSource.position.xyz)), 1.0);
}